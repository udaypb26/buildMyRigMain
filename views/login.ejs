
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title><%=title%></title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/iconsmind.css" rel="stylesheet" type="text/css" media="all" />
        <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all"/>
        <link href="css/interface-icons.css" rel="stylesheet" type="text/css" media="all"/>
        <link href="css/owl.carousel.css" rel="stylesheet" type="text/css" media="all"/>
        <link href="css/theme.css" rel="stylesheet" type="text/css" media="all"/>
        <link href="css/custom.css" rel="stylesheet" type="text/css" media="all"/>
        <link href='https://fonts.googleapis.com/css?family=Lora:400,400italic,700|Montserrat:400,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        
		<script src="https://www.gstatic.com/firebasejs/5.5.0/firebase.js"></script>
		<style>
		
		/* Center the loader */
#loader {
  position: absolute;
  left: 50%;
  top: 50%;
  z-index: 1;
  width: 150px;
  height: 150px;
  background-image: 'images/loading.gif'
  /* margin: -75px 0 0 -75px;
  border: 16px solid #f3f3f3;
  border-radius: 50%;
  border-top: 16px solid #3498db;
  width: 120px;
  height: 120px; */
  /* -webkit-animation: spin 2s linear infinite;
  animation: spin 2s linear infinite; */
}

@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Add animation to "page content" */
.animate-bottom {
  position: relative;
  -webkit-animation-name: animatebottom;
  -webkit-animation-duration: 1s;
  animation-name: animatebottom;
  animation-duration: 1s
}

@-webkit-keyframes animatebottom {
  from { bottom:-100px; opacity:0 } 
  to { bottom:0px; opacity:1 }
}

@keyframes animatebottom { 
  from{ bottom:-100px; opacity:0 } 
  to{ bottom:0; opacity:1 }
}

#myDiv {
  display: none;
  text-align: center;
}
		</style>
    </head>
    <body data-reveal-selectors="section:not(.masonry):not(:first-of-type):not(.parallax)">

				
		<div class="nav-container">
			<div class="loader-container"></div>
				<div id="loader"></div>
		</div>
		
		<div class="main-container">
	<section style="background-color:black">
		                <div class="container">
		                    <div class="row">
		                        <div class="col-md-6 col-md-offset-3 col-sm-6">
		                            <div class="form-subscribe-1 boxed boxed--lg bg--white box-shadow-wide">
		                                <div class="subscribe__title text-center">
		                                    <h4>Login</h4>
		                                </div>
		                                <form   id="loginForm">
		                                    <div class="input-with-icon">
		                                        <label for="fieldEmail">Email Address</label>
		                                        <i class="fa  fa-envelope"></i>
		                                        <input class="validate-required validate-email" id="email" name="cm-kieth-kieth" type="email" required="true">
											</div>
											<div class="input-with-icon">
													<label for="fieldEmail">Password</label>
													<i class="fa  fa-key"></i>
													<input class="validate-required " id="password" name="cm-kieth-kieth" type="password" required="true">
												</div>
		                                    <button  onclick="login(event)" class="btn btn-primary">Login</button>
		                                </form>
		                            </div>
		                        </div>
		                    </div>
		                    
		                </div>
		                
		            </section></div>
		
		<script src="js/jquery-2.1.4.min.js"></script>
        <script src="js/scrollreveal.min.js"></script>
        <script src="js/parallax.js"></script>
        <script src="js/scripts.js"></script>
        <script>
			var user;
 function login(e){
	e.preventDefault();
	
	var email=$('#email').val();
	var pass=$('#password').val();
	var auth=firebase.auth();
	// $.ajax({
    //         type: "POST",
    //         url: '/signup',
    //         data: JSON.stringify(data),
    //         dataType: "json",
    //         contentType: "application/json",
    //         Accept: 'application/json; charset=utf-8'
    //       }).then(function () {
    //       alert('sent')
    //       }).fail(function () {
            
	//       });
	const promise=auth.signInWithEmailAndPassword(email,pass);
	promise
	.then(function(data){
		alert('login success')
		// console.log(user)
		firebase.auth().currentUser.getIdToken(/* forceRefresh */ true).then(function(idToken) {
  // Send token to your backend via HTTPS
  // ...
  window.location='/selection?user='+idToken;
}).catch(function(error) {
  // Handle error
});
	})
	.catch(e=>console.log('error logging in ',e.message));
}
        </script>
        	<script  src="javascripts/firebaseSetup.js"></script>
    </body>
</html>
				